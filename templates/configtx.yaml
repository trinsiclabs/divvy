---
Organizations:
  - &${MSP_NAME}
      Name: ${MSP_NAME}
      ID: ${MSP_NAME}
      MSPDir: ../../crypto-config/peerOrganizations/${NAME}.divvy.com/msp
      Policies:
        Readers:
          Type: Signature
          Rule: "OR('${MSP_NAME}.admin', '${MSP_NAME}.peer', '${MSP_NAME}.client')"
        Writers:
          Type: Signature
          Rule: "OR('${MSP_NAME}.admin', '${MSP_NAME}.client')"
        Admins:
          Type: Signature
          Rule: "OR('${MSP_NAME}.admin')"
      AnchorPeers:
        - Host: peer.${NAME}.divvy.com
          Port: ${PEER_PORT}

Application: &ApplicationDefaults
  Organizations:
  Policies:
    Readers:
      Type: ImplicitMeta
      Rule: "ANY Readers"
    Writers:
      Type: ImplicitMeta
      Rule: "ANY Writers"
    Admins:
      Type: ImplicitMeta
      Rule: "MAJORITY Admins"

Channel: &ChannelDefaults
  Policies:
    Readers:
      Type: ImplicitMeta
      Rule: "ANY Readers"
    Writers:
      Type: ImplicitMeta
      Rule: "ANY Writers"
    Admins:
      Type: ImplicitMeta
      Rule: "MAJORITY Admins"

Profiles:
  ${NAME}-channel:
    Consortium: Default
    <<: *ChannelDefaults
    Application:
      <<: *ApplicationDefaults
      Organizations:
        - *${MSP_NAME}
